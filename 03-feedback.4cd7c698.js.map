{"mappings":"iiBAAA,IAwBQA,EAxBRC,EAAAC,EAAA,SAEMC,EAAc,sBAEdC,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,uBAC9BE,QAASH,SAASC,cAAc,6BAG5BG,EAAiB,GAkCvBN,EAAKC,KAAKM,iBAAiB,QAASC,EAAAX,GAAEY,UAhClB,SAAAC,GAMlBJ,EAAeI,EAAEC,OAAOC,MAAQF,EAAEC,OAAOE,MAEzCC,aAAaC,QAAQhB,EAAaiB,KAAKC,UAAUX,G,GAwBS,MAC5DN,EAAKC,KAAKM,iBAAiB,UARN,SAAAG,GACnBA,EAAEQ,iBACFR,EAAES,cAAcC,QAChBC,QAAQC,IAAIR,aAAaS,QAAQxB,IACjCe,aAAaU,WAAWzB,E,IAjBlBH,EAAYoB,KAAKS,MAAMX,aAAaS,QAAQxB,IAElDsB,QAAQC,IAAI1B,GACRA,IACEA,EAAUQ,QACZJ,EAAKI,MAAMS,MAAQjB,EAAUQ,OAE3BR,EAAUS,UACZL,EAAKK,QAAQQ,MAAQjB,EAAUS,S","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  email: document.querySelector('input[name=\"email\"]'),\n  message: document.querySelector('textarea[name=\"message\"]'),\n};\n\nconst dataForStorage = {};\n\nconst handleInput = e => {\n  // if (e.target.name === 'email') {\n  //   dataForStorage.email = e.target.value;\n  // } else {\n  //   dataForStorage.password = e.target.value;\n  // }\n  dataForStorage[e.target.name] = e.target.value;\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(dataForStorage));\n};\n\nconst insertStorageDataToForm = () => {\n  const savedData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\n  console.log(savedData);\n  if (savedData) {\n    if (savedData.email) {\n      refs.email.value = savedData.email;\n    }\n    if (savedData.message) {\n      refs.message.value = savedData.message;\n    }\n  }\n};\n\nconst handleSubmit = e => {\n  e.preventDefault();\n  e.currentTarget.reset();\n  console.log(localStorage.getItem(STORAGE_KEY));\n  localStorage.removeItem(STORAGE_KEY);\n};\n\nrefs.form.addEventListener('input', _.throttle(handleInput, 500));\nrefs.form.addEventListener('submit', handleSubmit);\n\ninsertStorageDataToForm();\n"],"names":["savedData","$1WSnx","parcelRequire","$b00c40859be242c5$var$STORAGE_KEY","$b00c40859be242c5$var$refs","form","document","querySelector","email","message","$b00c40859be242c5$var$dataForStorage","addEventListener","$parcel$interopDefault","throttle","e","target","name","value","localStorage","setItem","JSON","stringify","preventDefault","currentTarget","reset","console","log","getItem","removeItem","parse"],"version":3,"file":"03-feedback.4cd7c698.js.map"}