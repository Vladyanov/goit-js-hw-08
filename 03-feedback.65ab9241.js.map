{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAEMC,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,uBAC9BE,QAASH,SAASC,cAAc,6BAG5BG,EAAiB,GAkCvBN,EAAKC,KAAKM,iBAAiB,QAASC,EAAAV,GAAEW,UAhClBC,IAMlBJ,EAAeI,EAAEC,OAAOC,MAAQF,EAAEC,OAAOE,MAEzCC,aAAaC,QAlBK,sBAkBgBC,KAAKC,UAAUX,GAAgB,GAwBP,MAC5DN,EAAKC,KAAKM,iBAAiB,UARNG,IACnBA,EAAEQ,iBACFR,EAAES,cAAcC,QAChBC,QAAQC,IAAIR,aAAaS,QAtCP,wBAuClBT,aAAaU,WAvCK,sBAuCkB,IAlBN,MAC9B,MAAMC,EAAYT,KAAKU,MAAMZ,aAAaS,QAtBxB,wBAwBlBF,QAAQC,IAAIG,GACRA,IACEA,EAAUrB,QACZJ,EAAKI,MAAMS,MAAQY,EAAUrB,OAE3BqB,EAAUpB,UACZL,EAAKK,QAAQQ,MAAQY,EAAUpB,S,EAerCsB","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  email: document.querySelector('input[name=\"email\"]'),\n  message: document.querySelector('textarea[name=\"message\"]'),\n};\n\nconst dataForStorage = {};\n\nconst handleInput = e => {\n  // if (e.target.name === 'email') {\n  //   dataForStorage.email = e.target.value;\n  // } else {\n  //   dataForStorage.password = e.target.value;\n  // }\n  dataForStorage[e.target.name] = e.target.value;\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(dataForStorage));\n};\n\nconst insertStorageDataToForm = () => {\n  const savedData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\n  console.log(savedData);\n  if (savedData) {\n    if (savedData.email) {\n      refs.email.value = savedData.email;\n    }\n    if (savedData.message) {\n      refs.message.value = savedData.message;\n    }\n  }\n};\n\nconst handleSubmit = e => {\n  e.preventDefault();\n  e.currentTarget.reset();\n  console.log(localStorage.getItem(STORAGE_KEY));\n  localStorage.removeItem(STORAGE_KEY);\n};\n\nrefs.form.addEventListener('input', _.throttle(handleInput, 500));\nrefs.form.addEventListener('submit', handleSubmit);\n\ninsertStorageDataToForm();\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$refs","form","document","querySelector","email","message","$945622fd0f572e60$var$dataForStorage","addEventListener","$parcel$interopDefault","throttle","e","target","name","value","localStorage","setItem","JSON","stringify","preventDefault","currentTarget","reset","console","log","getItem","removeItem","savedData","parse","$945622fd0f572e60$var$insertStorageDataToForm"],"version":3,"file":"03-feedback.65ab9241.js.map"}